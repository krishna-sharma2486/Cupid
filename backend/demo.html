<form id="uploadForm" enctype="multipart/form-data">
    <input type="file" name="photo" id="photoInput">
    <button type="submit">Upload</button>
  </form>
  
  <script>

  function readyUpload(){

    const obj = {
      "photo" : document.getElementById('photoInput').files[0],
      "name":"Aman Rao",
      "rollNo" : 22124019,
      "email" : "amant.it.22@nitj.ac.in",
      "gender" : "M",
      "password": "4444",
      "branch" : "IT",
      "crush" : "Shreya",
      "instagram_username":"integralbaji"
    }
    
    const formData = new FormData();

    for (const key in obj) {
      if (obj.hasOwnProperty(key)) {
        formData.append(key, obj[key]);
      }
    }

    return formData;
  }
  document.getElementById('uploadForm').addEventListener('submit', async (event) => {
    event.preventDefault();

    const formData = await readyUpload();

    try {
      const response = await fetch('http://127.0.0.1:8888/users/signup', {
        method: 'POST',
        body: formData,
      });

      const data = await response.json();
      console.log(data);
    } catch (error) {
      console.error('Error:', error);
    }
  });
  </script>
  